#N canvas 908 327 450 300 10;
#N canvas 363 192 715 623 oscilador~ 0;
#X obj 45 291 inlet;
#X obj 264 128 bang~;
#X obj 80 177 loadbang;
#X floatatom 242 369 5 0 0 0 - - -;
#N canvas 887 92 524 574 conta_ate_X 0;
#X obj 64 107 float;
#X obj 116 234 sel 1;
#X obj 117 206 <;
#X obj 207 173 - 1;
#X obj 86 133 + 1;
#X obj 116 80 r prox_valor;
#X obj 95 159 s prox_valor;
#X obj 100 292 s muda_prox;
#X obj 121 52 r muda_prox;
#X obj 37 168 t f f;
#X msg 68 68 0;
#X obj 38 -49 inlet;
#X obj 92 -35 inlet;
#X obj 93 -3 s N_TOTAL;
#X obj 206 134 receive N_TOTAL;
#X obj 55 334 outlet;
#X obj 213 234 print TamanhoDeBlocoAtual;
#X connect 0 0 4 0;
#X connect 0 0 9 0;
#X connect 1 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 3 0 16 0;
#X connect 4 0 6 0;
#X connect 5 0 0 1;
#X connect 8 0 0 0;
#X connect 9 0 2 0;
#X connect 9 1 15 0;
#X connect 10 0 0 0;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 14 0 3 0;
#X restore 242 339 pd conta_ate_X;
#X msg 81 207 64;
#X obj 46 445 outlet~;
#X obj 46 417 tabreceive~ \$0-resp;
#X obj 310 231 timer;
#X obj 310 254 * 44.1;
#X obj 310 279 select;
#X floatatom 363 279 5 0 0 0 - - -;
#X obj 291 198 t b b b;
#X obj 82 240 s N_INICIAL;
#X obj 390 278 r N_INICIAL;
#X obj 108 208 s reset_spigots;
#N canvas 132 289 392 273 primeira_ou_segunda 0;
#X obj 177 158 spigot;
#X msg 213 122 1;
#X obj 50 155 spigot 1;
#X msg 51 122 0;
#X obj 126 79 t b b;
#X msg 86 122 1;
#X msg 185 123 0;
#X obj 93 17 inlet;
#X obj 150 18 inlet;
#X obj 150 39 t b b;
#X obj 177 183 outlet;
#X obj 50 178 outlet;
#X text 175 198 Todos os outros passam por aqui.;
#X text 16 196 Somente o primeiro bang passa por aqui.;
#X connect 0 0 10 0;
#X connect 1 0 0 1;
#X connect 2 0 11 0;
#X connect 3 0 2 1;
#X connect 4 0 1 0;
#X connect 4 0 3 0;
#X connect 4 1 0 0;
#X connect 4 1 2 0;
#X connect 5 0 2 1;
#X connect 6 0 0 1;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 9 1 5 0;
#X restore 232 162 pd primeira_ou_segunda;
#X obj 359 128 r reset_spigots;
#X obj 232 197 t b b b;
#X obj 79 155 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 372 204 Na primeira vez \, seta os vetores \, o timer e conta_ate_X
;
#X text 384 238 O select é responsável por chamar o realoca_vetores
apenas quando o N muda.;
#N canvas 95 227 496 433 realoca_vetor 0;
#X obj 100 114 f \$0;
#X obj 98 76 t b f;
#X msg 104 239 \; \$1 resize \$2;
#X obj 103 174 pack s f;
#X msg 103 144 \$1-resp;
#X msg 103 206 s \$1 \$2;
#X obj 98 49 inlet;
#X text 190 123 As mensagens são do tipo: s <nome_do_vetor> <novo_tamanho>
;
#X text 24 18 Inlet 1: Tamanho novo do vetor;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 1 1 3 1;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X connect 6 0 1 0;
#X restore 388 342 pd realoca_vetor;
#X text 22 135 Seta o tamanho inicial do bloco;
#N canvas 585 417 440 452 phi_de_n 1;
#X obj 103 265 outlet;
#X obj 86 159 float;
#X floatatom 153 103 5 0 0 0 - - -;
#X obj 113 25 inlet;
#X obj 153 76 expr 2 * acos(-1) * $f1 / 44100;
#X obj 140 182 +;
#X obj 113 52 t b b f;
#X text 193 102 2pi*x[n]/44100;
#X obj 142 222 expr if($f1 > 2*acos(-1) \, $f1-(2*acos(-1)) \, $f1)
;
#X connect 1 0 5 0;
#X connect 2 0 5 1;
#X connect 3 0 6 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 5 0 8 0;
#X connect 6 1 1 0;
#X connect 6 2 4 0;
#X connect 8 0 1 1;
#X restore 45 324 pd phi_de_n;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-resp 64 float 1;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 1 63 -1 200 140 1 0 0;
#X restore 189 -18 graph;
#X obj 45 349 cos;
#N canvas 878 107 524 574 conta_ate_X 1;
#X obj 64 107 float;
#X obj 116 234 sel 1;
#X obj 117 206 <;
#X obj 207 173 - 1;
#X obj 86 133 + 1;
#X obj 116 80 r prox_valor;
#X obj 95 159 s prox_valor;
#X obj 100 292 s muda_prox;
#X obj 121 52 r muda_prox;
#X obj 37 168 t f f;
#X msg 68 68 0;
#X obj 38 -49 inlet;
#X obj 92 -35 inlet;
#X obj 93 -3 s N_TOTAL;
#X obj 206 134 receive N_TOTAL;
#X obj 55 334 outlet;
#X connect 0 0 4 0;
#X connect 0 0 9 0;
#X connect 1 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 4 0 6 0;
#X connect 5 0 0 1;
#X connect 8 0 0 0;
#X connect 9 0 2 0;
#X connect 9 1 15 0;
#X connect 10 0 0 0;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 14 0 3 0;
#X restore 116 283 pd conta_ate_X;
#X obj 157 253 float 44100;
#X floatatom 145 322 5 0 0 0 - - -;
#X obj 67 254 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 24 0;
#X connect 1 0 16 0;
#X connect 2 0 5 0;
#X connect 2 0 15 0;
#X connect 2 0 28 0;
#X connect 4 0 3 0;
#X connect 5 0 13 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 1 11 0;
#X connect 11 0 10 1;
#X connect 11 0 4 1;
#X connect 11 0 22 0;
#X connect 12 0 4 0;
#X connect 12 1 8 0;
#X connect 12 2 8 1;
#X connect 14 0 4 1;
#X connect 16 0 18 0;
#X connect 16 1 12 0;
#X connect 17 0 16 1;
#X connect 18 0 4 0;
#X connect 18 1 8 0;
#X connect 19 0 2 0;
#X connect 24 0 26 0;
#X connect 27 0 29 0;
#X connect 28 0 27 1;
#X connect 30 0 27 0;
#X restore 96 88 pd oscilador~;
#X obj 88 161 output~;
#X floatatom 90 39 5 0 0 0 - - -;
#X connect 0 0 1 0;
#X connect 2 0 0 0;
